kfzwMn
kfzwA
kfzwa2
kfzwOP
kfzpOP2
kfzwOPA
kfzwOPA2
X 2000-7000
Y 0-15
Z -33*


-------------------

KFZW SWITCHER 

KFZW2 is used (in a 3rd gear pull) until around 4k, after which time it switches 
back to KFZW (VVT switchover). 
Easiest way to see what timing table you're in is to log wnwi_w and wnwi2_w. 
If camshaft angle is ~22KW, that is KFZW2. If camshaft angle is ~0 degrees, that is KFZW.

----------------------

************** 'more fuel = louder bangs', 'more air = more number of pops', or 'less timing = more rapid pops' etc **************

Try to add fuel at same load/high rmps (above 3000) with LAMFA. This will force the open loop and adds excess fuel.
With ignition you will be able to control the loudness, and with fuel the style:popcorn, bangs, crackle, etc.


--------------- AUTOMATIC DSG

Gear 'D' select = all normal, expect still fast path on shifts. <- correction

'S' or 'Tip' selected = :
- shifts:
   - fast path on shifts using KFZWMNKH set to -27 in high load areas (but zwout capped @ -24)
- overrun fuel-cut:
    - delay using KFTVSA set @ 4sec (swapped shl #2 from KFTVSAKAT to KFTVSA lookup)
    - force zwout = zwmin during delay using KFZWMNKH set to -18 in load/rpm area

************** need to fine tune timing/fueling (KFZWMNKH / KFVAKL) to adjust how much it pops. *********************
-----------------------------------------------------------------------------------------------------------------------

what do i need to change to have pop&bangs when te car is not moving?
CWSAWE : 1
KFZWMN: -24 in the area (rpm/load) needed
KFZWOP1/2: first row -20 from original value
KFZW/KFZW2: match KFZWOP in changed areas
KFTVSA: duration 2,5 in area i needed
I noticed that pops are working over 30km/h, under this speed there is nothing :/
-----
The Value you are looking for is TVSAG0. In the M-Box file its located at 0x1571C with factor 0.01.
The unit is seconds and its for HOW LONG FUEL CUT is deactivated when your IN NEUTRAL.

-------------------

But no matter what I try it does not pop or bang.
I changed all maps that are neccessary but there is nothing.
KFZWMN
KFTVSAG
KFNWEGM
CWSAWE

In addition i tried to flash a file from another S4 (also M-Box) that pops quite nice. But also with that file the car makes nothing!
From logs I see that the Ignition angle goes to -24° and also Injection time is still greater than 1ms so there must be fuel but maybe no spark..
I have the same problem with my D-Box. It only pops if i change KFZW into negative values, but that's not what we want.
------------

QUOTE: 
Can KFTVSA map be all 0.5 stock ?
i think i found it at 19627, could someone confirm this?

ANSWER:
"Restart speed map"; "KFNWEGM"; "8x5"
"Delay time for overrun shutdown"; "KFTVSA"; "8x5"
"Code word thrust shutdown - reinstall"; "CWSAWE"; "1x1"
"Min ignition angle"; "KFZWMN"; "12x16"
"Min ignition angle cat heating"; "KFZWMNKH"; "12x6"
"optimal ignition angle"; "KFZWOP"; "11x16"
"optimal ignition angle variant 2"; "KFZWOP2"; "11x16"

------------------------------------------

If you want "overrun" you need to find - KFTVSAKAT
That will allow you to RUN the INJECTORS based off RPM after PEDAL IS LET OFF for upto... whatever max value is on your car.

-------------------------------------------

Here are my observations: when you lift off pedal the torque intervention happens and zwout follow KFZWOP - X
where X some  calculated value, I guess depends on how much and fast torque should be reduced. zwout limited to KZWMN.
During this process the fuel still injected. When torque intervention finished, zwout follow KFZW. And until time in KFVSA the fuel still will be injected. Then fuel cut off happens.
So, I JUST SETTING "KFVSA" to 2 sec, KFZWOP, KFZW and KZWMN in same rpms/low load areas to some retarded timing and adding fuel with "LAMFA" in same areas.

--------------------------------------------

I tried with leaner afr also. The more ignition retard and you getting very loud bang, but only once,
less retard and you getting it more often but less and less loud. So, finally I used a richer mixture with lamfa.

---------------------------------------------

Don't need to touch KFZW and KFZWOP to do a pop
touch only KFZWM all maps
KFTVSA
KFTVSAKAT
KFTVSAGRL
KFTVSAGNG2

-----------------------------------------------

KFNWEGM is like a threshold for fuelcut. When rpms drop, fuelcut is disabled from this value downwards. 
So if you want gargles and pops for the entire rpm range and all gears, set it higher than your rpm limit for example.
But its active only when clutch is depressed.
If you want bangs between shifts, lower KFZWMN in the lower load parts.

KFTVSA is the time in seconds i think before fuelcut is activated. But its active only when clutch is depressed.
If you want bangs between shifts, lower KFZWMN in the lower load parts.

------------------------------------------------

CWSAWE : 1 (check FR this is ECU specific)

KFZWMN: -20 to -30
KFZWOP: first row -20 from original value
KFZW/KFZW2: match KFZWOP in changed areas

KFTVSA: duration (e.g) 2.55 sec
KFTVSAKAT: similar to above

-------------------------------------------------

when looking at injector time, it's still going to 0ms on overrun.

---------------------------------------------------

KFNWEG, which allows the fuel to cut back in depending on gear, coolant temp, and gear.  
The map is not enabled by default on our cars, to enable you need to set the codeword CWSAWE to 1.

KFTVSA is the time in seconds i think before fuelcut is activated. But its active only when clutch is depressed.

---------------------------------------------------

KF=Map
ZW=Ignition angle
MN=Minimum

Lowering it allows you to call for a later ignition angle.

----------------------------------------------------

It work perfect on med9.1. There are 4 map for ignition and then it bang by shifting.

KFNWEGM 8x5
KFTVSA 8x5
KFVAKL 7x9
KFZWMN 12x16

----------------------- OVER-RUN

KFZWMN (-37.5) Y axis from 10 to 35
KFNWEGM - Resume engine speed (7000 after 60C)
KFTVSA - Retard time for over-run (2.0 all)
KFTVSAKAT - Over-run delay time (2000 all)

-----------------------------------------------------


Bang Bang when A/C is Pressed MED 9.1 Golf 5 2.0TFSI

DNWEK (Delta n für WE bei Klima (AC))
set to 8000 (constant)

KFTVSA (Verzögerungszeit für Schubabschalten)
X: -30 to 30 (X: 60 to 90 also)
Z: 0.00

KFTVSAGI - the same

All -> KFZWMN (Minimal ignition angle)
Вроде как все параметры Z у этих карт одинаковые. В основном отрицательные значения.
X: 1750 to 6500
Y: 10-30%
Z: -20


------------------------------------------------------

Hardcut 2.0TFSI MED 9.1

FUBAOF (Open time for spark gap ignition)
set to 0 ms
DNMAXH
set from 200 to 50

NMAX
NMAXDV
NMAXDZ
NMAXGA
NMAXDR
NMAXDVG
NMAXKR
NMAXNL
NMAXOGGA
set from 6800 to 7000

NMAXHMM (и подобные где малое значение 3500 и т.д. на 500 поднимаем)
from 4500 to 5000

KFTSRL
X from 5000 to 6840 and last from 6000 to 6880
Z last column (6880) to 0.00 (vertical)


------------------------------------------- MED 9.1 Stage 1

AFR offset 0.114844

KFMIOP
Y: 120 to max
X: 1200 to max
Z: UP TO 10%

KFMIOPS
Y: 100 to 150(max)
X: 1200 RPM to max
Z: UP TO 7%

KFMIRL
Y: 70 to max
X: 1200 to 2500
Z: UP TO 5%
Делать 3 ступени, вторая половина Z: 10% третья Z: 15% (до конца по X)

KFVPDKLD
Y: 0 to 5%
X: all
Z: UP TO 40%
Первая ступень, вторая ступень все остальное в +45%

------------------------------

Pops & bangs on ME9 requires some modifications to simple maps.

1. raise the delay of the fuel cut overrun
2. Retard the ignition from -15 to -45 degrees on the areas that the negative ignition maps have for the coast down condition.





